import{Ba as l,Ra as c,Sa as r,Ta as n,Ua as f,Ya as p,db as o,fb as u,oa as d}from"./chunk-FWEVMUGZ.js";var g=[[23.746382895774097,90.38211822509766],[23.746382895774097,90.38209676742554],[23.746382895774097,90.38205385208131],[23.746382895774097,90.38201093673707],[23.746382895774097,90.3819251060486],[23.746363254773467,90.38188219070436],[23.7463436137699,90.38186073303224],[23.74630433175384,90.38179636001587],[23.746284690741366,90.38168907165529],[23.746284690741366,90.38166761398317],[23.74622576768619,90.38162469863893],[23.74622576768619,90.38158178329469],[23.74620612666187,90.38156032562257],[23.746166844604353,90.38149595260622],[23.74614720357115,90.38145303726196],[23.74610792149585,90.38134574890138],[23.746088280453755,90.38134574890138],[23.746068639408712,90.38132429122926],[23.74599007519888,90.38145303726196],[23.745911510941657,90.38166761398317],[23.74583294663706,90.38179636001587],[23.745774023377503,90.38201093673707],[23.745754382285057,90.38209676742554],[23.74571510009128,90.38213968276978],[23.745695458989953,90.38220405578615],[23.74567581788566,90.38222551345827],[23.74567581788566,90.3822684288025],[23.745656176778407,90.3822684288025],[23.745656176778407,90.38228988647462],[23.7456365356682,90.38228988647462],[23.745577612319767,90.38228988647462],[23.745518688944692,90.38228988647462],[23.745381200965845,90.3822684288025],[23.745341918659516,90.38224697113039],[23.74528299517782,90.38222551345827],[23.745184789315726,90.3821611404419],[23.745106224572744,90.38213968276978],[23.745047300984407,90.38213968276978],[23.74500801857737,90.38211822509766],[23.74494909494461,90.38207530975342],[23.744929453727764,90.38207530975342],[23.744929453727764,90.3820323944092],[23.74489017128518,90.38196802139284],[23.74489017128518,90.3819251060486],[23.744870530059455,90.38183927536012],[23.744870530059455,90.38179636001587],[23.744870530059455,90.3817105293274],[23.744870530059455,90.38158178329469],[23.744870530059455,90.38149595260622],[23.744870530059455,90.38145303726196],[23.744870530059455,90.38143157958984],[23.744870530059455,90.3813886642456],[23.744870530059455,90.38136720657349],[23.744870530059455,90.38134574890138],[23.744850888830754,90.38130283355714],[23.744850888830754,90.38128137588502],[23.744831247599112,90.38128137588502],[23.744811606364483,90.38128137588502],[23.744791965126915,90.38128137588502],[23.744752682642858,90.38121700286867],[23.744713400146967,90.38119554519655],[23.744654476380916,90.38113117218019],[23.74461519385541,90.38110971450806],[23.74455627004493,90.38110971450806],[23.744536628768852,90.38106679916382],[23.74426165059268,90.38108825683594],[23.744183085292857,90.38115262985231],[23.744143802625167,90.38117408752443],[23.744104519945648,90.38123846054079],[23.74398667183598,90.38141012191772],[23.74392774774116,90.38153886795045],[23.7439081063703,90.38158178329469],[23.743868823619685,90.3817105293274],[23.743829540857227,90.38175344467163],[23.743829540857227,90.38179636001587],[23.743829540857227,90.38183927536012],[23.743829540857227,90.38188219070436],[23.743829540857227,90.3819251060486],[23.743829540857227,90.38196802139284],[23.743829540857227,90.38201093673707],[23.743829540857227,90.38205385208131],[23.743849182239934,90.38207530975342],[23.743868823619685,90.38213968276978],[23.743868823619685,90.38218259811403],[23.743888464996463,90.38220405578615],[23.7439081063703,90.38222551345827]].map(([a,e])=>[a,e,1]);var m=class a{map;heatLayer;heatDrawingEnabled=!1;markerCoords=[[23.7771,90.3994],[23.72,90.39],[23.73,90.38]];markerGroup=L.layerGroup();markers=this.markerCoords.map(e=>L.marker(e));ngAfterViewInit(){this.initMap(),this.addMarkers(),this.addPolyline(),this.initHeatLayer(),this.initRightClickMarker(),this.centerMap()}initMap(){this.map=L.map("map",{center:[23.75,90.39],zoom:12}),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors"}).addTo(this.map),this.markerGroup.addTo(this.map)}addMarkers(){for(let e of this.markers)e.addTo(this.markerGroup).bindPopup(`Hello from ${e.getLatLng()}`)}initRightClickMarker(){this.map.on("contextmenu",e=>{L.marker(e.latlng,{draggable:!1}).addTo(this.markerGroup).bindPopup(`Lat: ${e.latlng.lat.toFixed(5)}, Lng: ${e.latlng.lng.toFixed(5)}`)})}addPolyline(){L.polyline(this.markerCoords,{color:"blue",weight:3}).addTo(this.map).bindPopup("This is a line")}initHeatLayer(){this.heatLayer=L.heatLayer(g,{radius:25,blur:15,maxZoom:17}).addTo(this.map);let e=!0;this.map.on("movestart",()=>{e=!1}),this.map.on("moveend",()=>{e=!0}),this.map.on("mousemove",t=>{e&&this.heatDrawingEnabled&&this.heatLayer.addLatLng(t.latlng)})}centerMap(){let e=L.latLngBounds(this.markers.map(t=>t.getLatLng()));this.map.fitBounds(e,{padding:[20,20]})}toggleHeatDrawing(){this.heatDrawingEnabled=!this.heatDrawingEnabled}clearHeat(){confirm("Remove all heat points?")&&this.heatLayer.setLatLngs([])}clearMarkers(){confirm("Remove all markers?")&&this.markerGroup.clearLayers()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=l({type:a,selectors:[["app-leaflet-map"]],decls:12,vars:1,consts:[["id","map",2,"height","300px","width","60%","margin","0 auto"],[1,"flex","justify-center","gap-x-1","m-1"],["type","button",1,"bg-gray-600","px-1","rounded","text-white",3,"click"],["type","button",1,"bg-red-600","px-1","rounded","text-white",3,"click"],[1,"text-sm","text-gray-700","font-light","italic","text-center"]],template:function(t,i){t&1&&(f(0,"div",0),r(1,"div",1)(2,"button",2),p("click",function(){return i.centerMap()}),o(3,"Center"),n(),r(4,"button",2),p("click",function(){return i.toggleHeatDrawing()}),o(5),n(),r(6,"button",3),p("click",function(){return i.clearHeat()}),o(7,"Clear Heat"),n(),r(8,"button",3),p("click",function(){return i.clearMarkers()}),o(9,"Clear Markers"),n()(),r(10,"p",4),o(11,"Right-click to add markers"),n()),t&2&&(d(5),u(" ",i.heatDrawingEnabled?"Stop Heat Drawing":"Start Heat Drawing"," "))},encapsulation:2})};var h=class a{static \u0275fac=function(t){return new(t||a)};static \u0275cmp=l({type:a,selectors:[["app-mappage"]],decls:1,vars:0,template:function(t,i){t&1&&c(0,"app-leaflet-map")},dependencies:[m],encapsulation:2})};export{h as Mappage};
